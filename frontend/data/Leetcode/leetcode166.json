{
  "ID": "leetcode166",
  "coding_practice": [
    {
      "title": "Fraction to Recurring Decimal",
      "description": "Given two integers representing the numerator and denominator of a fraction, return the fraction in string format.\n\nIf the fractional part is repeating, enclose the repeating part in parentheses.\n\nIf multiple answers are possible, return any of them.\n\nIt is guaranteed that the length of the answer string is less than 10^4 for all the given inputs.\n\nNote that if the fraction can be represented as a finite length string, you must return it.",
      "examples": [
        {
          "input": "numerator = 1, denominator = 2",
          "output": "\"0.5\""
        },
        {
          "input": "numerator = 2, denominator = 1",
          "output": "\"2\""
        },
        {
          "input": "numerator = 4, denominator = 333",
          "output": "\"0.(012)\""
        }
      ],
      "constraints": "-2^31 <= numerator, denominator <= 2^31 - 1\n  denominator != 0",
      "solution": "class Solution:\n    def fractionToDecimal(self, numerator, denominator):\n        if numerator == 0:\n            return \"0\"\n        res = []\n        if (numerator < 0) ^ (denominator < 0):\n            res.append(\"-\")\n        numerator, denominator = abs(numerator), abs(denominator)\n        res.append(str(numerator // denominator))\n        remainder = numerator % denominator\n        if remainder == 0:\n            return \"\".join(res)\n        res.append(\".\")\n        seen = {}\n        while remainder != 0:\n            if remainder in seen:\n                idx = seen[remainder]\n                res.insert(idx, \"(\")\n                res.append(\")\")\n                break\n            seen[remainder] = len(res)\n            remainder *= 10\n            res.append(str(remainder // denominator))\n            remainder %= denominator\n        return \"\".join(res)",
      "explanation": "1. 處理符號，如果分子與分母符號不同，結果為負。\n2. 計算整數部分，並取得餘數。\n3. 如果餘數為 0，直接返回整數部分。\n4. 使用哈希表追蹤每個餘數出現的位置，以檢測循環小數。\n5. 循環計算小數部分，遇到重複餘數時加上括號標記循環部分。\n6. 拼接結果並返回。",
      "tag": "611",
      "difficult": "medium"
    }
  ]
}
