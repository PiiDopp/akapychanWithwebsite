{
  "ID": "leetcode220",
  "coding_practice": [
    {
      "title": "Contains Duplicate III",
      "description": "You are given an integer array nums and two integers indexDiff and valueDiff.\n\nFind a pair of indices (i, j) such that:\n\ni != j,\nabs(i - j) <= indexDiff,\nabs(nums[i] - nums[j]) <= valueDiff, and\nReturn true if such pair exists or false otherwise.",
      "examples": [
        {
          "input": "nums = [1,2,3,1], indexDiff = 3, valueDiff = 0",
          "output": "true",
          "explanation": "We can choose (i, j) = (0, 3). We satisfy the three conditions: i != j --> 0 != 3, abs(i - j) <= indexDiff --> abs(0 - 3) <= 3, abs(nums[i] - nums[j]) <= valueDiff --> abs(1 - 1) <= 0"
        },
        {
          "input": "nums = [1,5,9,1,5,9], indexDiff = 2, valueDiff = 3",
          "output": "false",
          "explanation": "After trying all the possible pairs (i, j), we cannot satisfy the three conditions, so we return false."
        }
      ],
      "constraints": "2 <= nums.length <= 10^5\n-10^9 <= nums[i] <= 10^9\n1 <= indexDiff <= nums.length\n0 <= valueDiff <= 10^9",
      "solution": "from sortedcontainers import SortedList\n\nclass Solution:\n    def containsNearbyAlmostDuplicate(self, nums, k, t):\n        if k <= 0 or t < 0:\n            return False\n        \n        window = SortedList()\n        \n        for i, num in enumerate(nums):\n            pos1 = window.bisect_left(num - t)\n            if pos1 < len(window) and abs(window[pos1] - num) <= t:\n                return True\n            \n            window.add(num)\n            \n            if len(window) > k:\n                window.remove(nums[i - k])\n        \n        return False",
      "explanation": "1. 使用 SortedList 維持一個長度不超過 indexDiff 的滑動窗口。\n2. 對每個 nums[i]，查找窗口內是否存在差值 <= valueDiff 的元素。\n3. 如果找到，返回 True；否則將 nums[i] 加入窗口。\n4. 維持窗口大小不超過 indexDiff，遍歷結束仍未找到符合條件的元素則返回 False。",
      "tag": "611",
      "difficult": "hard"
    }
  ]
}
