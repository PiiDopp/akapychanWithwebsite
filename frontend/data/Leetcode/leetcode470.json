{
  "ID": "leetcode470",
  "coding_practice": [
    {
      "title": "Implement Rand10() Using Rand7()",
      "description": "Given the API rand7() that generates a uniform random integer in the range [1, 7], write a function rand10() that generates a uniform random integer in the range [1, 10]. You can only call the API rand7(), and you shouldn't call any other API. Please do not use a language's built-in random API.\n\nEach test case will have one internal argument n, the number of times that your implemented function rand10() will be called while testing. Note that this is not an argument passed to rand10().",
      "examples": [
        {
          "input": "n = 1",
          "output": "[2]"
        },
        {
          "input": "n = 2",
          "output": "[2,8]"
        },
        {
          "input": "n = 3",
          "output": "[3,8,10]"
        }
      ],
      "constraints": "1 <= n <= 10^5",
      "follow up": "What is the expected value for the number of calls to rand7() function?\n\nCould you minimize the number of calls to rand7()?",
      "solution": "import random\n\n# 假設已經有一個 API rand7() 可用\ndef rand7():\n    return random.randint(1,7)\n\nclass Solution:\n    def rand10(self):\n        while True:\n            # 使用兩次 rand7 生成 1~49 的均勻分布\n            num = (rand7() - 1) * 7 + rand7()  # 1~49\n            if num <= 40:\n                return 1 + (num - 1) % 10",
      "explanation": "1. 使用 rand7() 兩次生成 1~49 的均勻分布數字。\n2. 只接受 1~40 的結果，因為 40 可被 10 整除，保證均勻性。\n3. 將 1~40 映射到 1~10，方法是 (num-1) % 10 + 1。\n4. 若生成的數字 > 40，則重試。",
      "tag": "711",
      "difficult": "medium"
    }
  ]
}
