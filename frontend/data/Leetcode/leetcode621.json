{
  "ID": "leetcode621",
  "coding_practice": [
    {
      "title": "Task Scheduler",
      "description": "You are given an array of CPU tasks, each labeled with a letter from A to Z, and a number n. Each CPU interval can be idle or allow the completion of one task. Tasks can be completed in any order, but there's a constraint: there has to be a gap of at least n intervals between two tasks with the same label.\n\nReturn the minimum number of CPU intervals required to complete all tasks.",
      "examples": [
        {
          "input": "tasks = [\"A\",\"A\",\"A\",\"B\",\"B\",\"B\"], n = 2",
          "output": "8",
          "explanation": "A possible sequence is: A -> B -> idle -> A -> B -> idle -> A -> B.\n\nAfter completing task A, you must wait two intervals before doing A again. The same applies to task B. In the 3rd interval, neither A nor B can be done, so you idle. By the 4th interval, you can do A again as 2 intervals have passed."
        },
        {
          "input": "tasks = [\"A\",\"C\",\"A\",\"B\",\"D\",\"B\"], n = 1",
          "output": "6",
          "explanation": "A possible sequence is: A -> B -> C -> D -> A -> B.\n\nWith a cooling interval of 1, you can repeat a task after just one other task."
        },
        {
          "input": "tasks = [\"A\",\"A\",\"A\", \"B\",\"B\",\"B\"], n = 3",
          "output": "10",
          "explanation": "A possible sequence is: A -> B -> idle -> idle -> A -> B -> idle -> idle -> A -> B.\n\nThere are only two types of tasks, A and B, which need to be separated by 3 intervals. This leads to idling twice between repetitions of these tasks."
        }
      ],
      "constraints": "1 <= tasks.length <= 104\ntasks[i] is an uppercase English letter.\n0 <= n <= 100",
      "solution": "from collections import Counter\n\nclass Solution:\n    def leastInterval(self, tasks, n):\n        task_counts = Counter(tasks)\n        max_freq = max(task_counts.values())\n        max_count = sum(1 for count in task_counts.values() if count == max_freq)\n        intervals = (max_freq - 1) * (n + 1) + max_count\n        return max(intervals, len(tasks))",
      "explanation": "1. 計算每個任務的頻率，找出最大頻率 max_freq。\n2. 計算有多少個任務達到最大頻率 max_count。\n3. 最少時間公式：intervals = (max_freq - 1) * (n + 1) + max_count。\n4. 若公式結果小於總任務數，返回總任務數 len(tasks)。\n5. 這樣可確保相同任務之間至少間隔 n 且總時間最短。",
      "tag": "611",
      "difficult": "medium"
    }
  ]
}
