{
  "ID": "leetcode714",
  "coding_practice": [
    {
      "title": "Best Time to Buy and Sell Stock with Transaction Fee",
      "description": "You are given an array prices where prices[i] is the price of a given stock on the ith day, and an integer fee representing a transaction fee.\\n\\nFind the maximum profit you can achieve. You may complete as many transactions as you like, but you need to pay the transaction fee for each transaction.\\n\\nNote:\\n- You may not engage in multiple transactions simultaneously (i.e., you must sell the stock before you buy again).\\n- The transaction fee is only charged once for each stock purchase and sale.",
      "examples": [
        {
          "input": "prices = [1,3,2,8,4,9], fee = 2",
          "output": "8",
          "explanation": "Buying at prices[0] = 1, selling at prices[3] = 8, buying at prices[4] = 4, selling at prices[5] = 9. Total profit = ((8-1)-2) + ((9-4)-2) = 8."
        },
        {
          "input": "prices = [1,3,7,5,10,3], fee = 3",
          "output": "6"
        }
      ],
      "constraints": "1 <= prices.length <= 5*10^4\\n1 <= prices[i] < 5*10^4\\n0 <= fee < 5*10^4",
      "solution": "class Solution:\n    def maxProfit(self, prices, fee):\n        n = len(prices)\n        if n == 0:\n            return 0\n        hold = -prices[0]\n        cash = 0\n        for price in prices[1:]:\n            cash = max(cash, hold + price - fee)\n            hold = max(hold, cash - price)\n        return cash",
      "explanation": "1. 定義兩個狀態：hold 表示持有股票的最大利潤，cash 表示不持有股票的最大利潤。\\n2. 初始化：hold = -prices[0]，cash = 0。\\n3. 遍歷 prices，更新 cash = max(cash, hold + price - fee)，hold = max(hold, cash - price)。\\n4. 返回最終 cash，即最大利潤。",
      "tag": "1030",
      "difficult": "medium"
    }
  ]
}
