{
  "ID": "leetcode786",
  "coding_practice": [
    {
      "title": "K-th Smallest Prime Fraction",
      "description": "You are given a sorted integer array arr containing 1 and prime numbers, where all the integers of arr are unique. \nYou are also given an integer k.\n\nFor every i and j where 0 <= i < j < arr.length, we consider the fraction arr[i] / arr[j].\n\nReturn the k^th smallest fraction considered. Return your answer as an array of integers of size 2, where answer[0] == arr[i] and answer[1] == arr[j].",
      "examples": [
        {
          "input": "arr = [1,2,3,5], k = 3",
          "output": "[2,5]",
          "explanation": "The fractions to be considered in sorted order are: 1/5, 1/3, 2/5, 1/2, 3/5, and 2/3. The third fraction is 2/5."
        },
        {
          "input": "arr = [1,7], k = 1",
          "output": "[1,7]"
        }
      ],
      "constraints": "2 <= arr.length <= 1000\n1 <= arr[i] <= 3 * 10^4\narr[0] == 1\narr[i] is a prime number for i > 0\nAll the numbers of arr are unique and sorted in strictly increasing order\n1 <= k <= arr.length * (arr.length - 1) / 2",
      "follow up": "Can you solve the problem with better than O(n^2) complexity?",
      "solution": "class Solution(object):\n    def kthSmallestPrimeFraction(self, arr, k):\n        n = len(arr)\n        low, high = 0, 1.0\n\n        while low < high:\n            mid = (low + high) / 2\n            count, num, den = self.helper(arr, mid)\n\n            if k < count:\n                high = mid\n            elif k > count:\n                low = mid\n            else:\n                return [num, den]\n\n        return []\n\n    def helper(self, arr, target):\n        count, i, n = 0, 0, len(arr)\n        num, den = arr[0], arr[n - 1]\n\n        for j in range(1, n):\n            while i < j and arr[i] <= arr[j] * target:\n                i += 1\n            count += i\n            if i > 0 and arr[i - 1] * den > arr[j] * num:\n                num = arr[i - 1]\n                den = arr[j]\n\n        return [count, num, den]",
      "explanation": "1. 使用二分法在 0 到 1 之間猜分數值 mid。\n2. helper(arr, mid) 計算小於等於 mid 的分數數量 count，並記錄最大分數 num/den。\n3. 根據 count 與 k 比較更新 low 或 high。\n4. 循環直到 count 等於 k，返回對應的分數 [num, den]。\n5. helper 函數對每個分母 arr[j] 找到最大的分子 arr[i]，計算有多少分數 <= target，並更新最大分數。",
      "tag": "1030",
      "difficult": "medium"
    }
  ]
}

