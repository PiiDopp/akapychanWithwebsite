{
  "ID": "leetcode795",
  "coding_practice": [
    {
      "title": "Number of Subarrays with Bounded Maximum",
      "description": "Given an integer array nums and two integers left and right, return the number of contiguous non-empty subarrays such that the value of the maximum array element in that subarray is in the range [left, right].\n\nThe test cases are generated so that the answer will fit in a 32-bit integer.",
      "examples": [
        {
          "input": "nums = [2,1,4,3], left = 2, right = 3",
          "output": "3",
          "explanation": "There are three subarrays that meet the requirements: [2], [2, 1], [3]."
        },
        {
          "input": "nums = [2,9,2,5,6], left = 2, right = 8",
          "output": "7"
        }
      ],
      "constraints": "1 <= nums.length <= 10^5\n0 <= nums[i] <= 10^9\n0 <= left <= right <= 10^9",
      "solution": "class Solution:\n    def numSubarrayBoundedMax(self, nums, left, right):\n        def count(bound):\n            ans = cur = 0\n            for x in nums:\n                if x <= bound:\n                    cur += 1\n                    ans += cur\n                else:\n                    cur = 0\n            return ans\n        return count(right) - count(left - 1)",
      "explanation": "1. 定義 count(bound) 計算所有子數組最大值 <= bound 的子數組個數。\n2. 遍歷 nums，若 x <= bound，累加 cur 並加入 ans；若 x > bound，cur 置 0。\n3. 最終返回 count(right) - count(left - 1)，得到最大值在 [left, right] 的子數組個數。",
      "tag": "611",
      "difficult": "medium"
    }
  ]
}
