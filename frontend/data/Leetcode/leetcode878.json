{
  "ID": "leetcode878",
  "coding_practice": [
    {
      "title": "Nth Magical Number",
      "description": "A positive integer is magical if it is divisible by either a or b.\n\nGiven the three integers n, a, and b, return the nth magical number. Since the answer may be very large, return it modulo 10^9 + 7.",
      "examples": [
        {
          "input": "n = 1, a = 2, b = 3",
          "output": "2"
        },
        {
          "input": "n = 4, a = 2, b = 3",
          "output": "6"
        }
      ],
      "constraints": "1 <= n <= 10^9\n2 <= a, b <= 4 * 10^4",
      "solution": "class Solution(object):\n    def nthMagicalNumber(self, N, A, B):\n        \"\"\"\n        :type N: int\n        :type A: int\n        :type B: int\n        :rtype: int\n        \"\"\"\n        MOD = 10**9 + 7\n\n        def gcd(x, y):\n            while y:\n                x, y = y, x % y\n            return x\n\n        lcm = A * B // gcd(A, B)\n\n        left, right = 1, N * min(A, B)\n        while left < right:\n            mid = (left + right) // 2\n            count = mid // A + mid // B - mid // lcm\n            if count < N:\n                left = mid + 1\n            else:\n                right = mid\n\n        return left % MOD",
      "explanation": "1. 計算 A 和 B 的最小公倍數 LCM(A, B) 以避免重複計算同時被 A 和 B 整除的數字。\n2. 用二分搜尋找出最小的數 left，使得 <= left 的魔法數字數量 >= N。\n3. 返回 left % (10^9 + 7)。",
      "tag": "520",
      "difficult": "hard"
    }
  ]
}

