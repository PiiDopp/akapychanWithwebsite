{
  "ID": "leetcode891",
  "coding_practice": [
    {
      "title": "Sum of Subsequence Widths",
      "description": "The width of a sequence is the difference between the maximum and minimum elements in the sequence.\n\nGiven an array of integers nums, return the sum of the widths of all the non-empty subsequences of nums. Since the answer may be very large, return it modulo 10^9 + 7.\n\nA subsequence is a sequence that can be derived from an array by deleting some or no elements without changing the order of the remaining elements. For example, [3,6,2,7] is a subsequence of the array [0,3,1,6,2,2,7].",
      "examples": [
        {
          "input": "nums = [2,1,3]",
          "output": "6",
          "explanation": "The subsequences are [1], [2], [3], [2,1], [2,3], [1,3], [2,1,3].\nThe corresponding widths are 0, 0, 0, 1, 1, 2, 2.\nThe sum of these widths is 6."
        },
        {
          "input": "nums = [2]",
          "output": "0"
        }
      ],
      "constraints": "1 <= nums.length <= 10^5\n1 <= nums[i] <= 10^5",
      "solution": "class Solution(object):\n    def sumSubseqWidths(self, A):\n        \"\"\"\n        :type A: List[int]\n        :rtype: int\n        \"\"\"\n        MOD = 10**9 + 7\n        A.sort()\n        n = len(A)\n        res = 0\n        pow2 = [1] * n\n        for i in range(1, n):\n            pow2[i] = (pow2[i-1] * 2) % MOD\n        \n        for i in range(n):\n            res = (res + A[i] * (pow2[i] - pow2[n - i - 1])) % MOD\n        return res",
      "explanation": "1. 將陣列 A 進行排序，確保元素大小順序。\n2. 計算 2 的次方 pow2[i]，代表每個元素作為最大或最小值出現的子序列數量。\n3. 遍歷 A，對每個元素 A[i] 計算它作為最大值與最小值的貢獻差值，累加到結果中。\n4. 使用模數 10^9 + 7 以防數值溢出。",
      "tag": "613",
      "difficult": "hard"
    }
  ]
}
