{
  "ID": "leetcode906",
  "coding_practice": [
    {
      "title": "Super Palindromes",
      "description": "Let's say a positive integer is a super-palindrome if it is a palindrome, and it is also the square of a palindrome.\n\nGiven two positive integers left and right represented as strings, return the number of super-palindromes integers in the inclusive range [left, right].",
      "examples": [
        {
          "input": "left = \"4\", right = \"1000\"",
          "output": "4",
          "explanation": "4, 9, 121, and 484 are superpalindromes. Note that 676 is not a superpalindrome: 26 * 26 = 676, but 26 is not a palindrome."
        },
        {
          "input": "left = \"1\", right = \"2\"",
          "output": "1"
        }
      ],
      "constraints": "1 <= left.length, right.length <= 18\nleft and right consist of only digits\nleft and right cannot have leading zeros\nleft is less than or equal to right",
      "solution": "import math\n\nclass Solution(object):\n    def superpalindromesInRange(self, L, R):\n        L, R = int(L), int(R)\n        MAGIC = 100000\n        ans = 0\n        \n        # 奇數長度回文\n        for k in range(1, MAGIC):\n            s = str(k)\n            t = s + s[-2::-1]\n            v = int(t) ** 2\n            if v > R:\n                break\n            if v >= L and str(v) == str(v)[::-1]:\n                ans += 1\n        \n        # 偶數長度回文\n        for k in range(1, MAGIC):\n            s = str(k)\n            t = s + s[::-1]\n            v = int(t) ** 2\n            if v > R:\n                break\n            if v >= L and str(v) == str(v)[::-1]:\n                ans += 1\n                \n        return ans",
      "explanation": "1. 將範圍轉換成整數 L 和 R。\n2. 設定一個 MAGIC 上限，生成可能的回文根。\n3. 生成奇數長度回文平方，檢查是否在範圍內且平方也是回文，如果是，計數加一。\n4. 生成偶數長度回文平方，檢查是否在範圍內且平方也是回文，如果是，計數加一。\n5. 返回計數結果。",
      "tag": "722",
      "difficult": "hard"
    }
  ]
}

